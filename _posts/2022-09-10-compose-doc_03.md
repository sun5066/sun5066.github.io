---
title: "Jetpack Compose 수명 주기 - 공식문서 읽어보기"
date: 2022-09-10 09:20:00 -0400 categories: android
---

# 컴포저블 수명주기

> 이 페이지의 내용
>
> 수명주기 개요
>
> - 컴포지션 내 컴포저블의 분석
    >

- 스마트 리컴포지션에 도움이 되는 정보 추가

> - 입력이 변경되지 않는 경우 건너뛰기

이 페이지에서는 컴포저블의 수명 주기에 관해 알아보여 Compose에서 컴포저블에 재구성이 필요한지를 결정하는 방법을 살펴본다.

## 수명 주기 개요

[상태 관리 문서](https://developer.android.com/jetpack/compose/state?hl=ko) 에 설명된 대로 컴포지션은 앱의 UI를 설명하고 컴포저블을 실행하여 생성된다. 컴포지션은
UI를 기술하는 컴포저블의 트리 구조이다.

Jetpack Compose는 초기 컴포지션 시 처음으로 컴포저블을 실행할 때 컴포지션에서 UI를 기술하기 위해 호출하는 컴포저블을 추적한다. 그런 다음 앱 상태가 변경되면 Jetpack Compose는 리컴포지션을
예약한다. 리컴포지션은 Jetpack Compose가 상태 변경사항에 따라 변경될 수 있는 컴포저블을 다시 실행한 다음 변경사항을 반영하도록 컴포지션을 업데이트하는 것이다.

컴포지션은 초기 컴포지션을 통해서만 생성되고 리컴포지션을 통해서만 업데이트됭 수 있다. 컴포지션을 수정하는 유일한 방법은 리컴포지션을 통하는 것이다.

> 핵심 사항: 컴포저블의 수명 주기는 컴포지션 시작, 0회 이상 재구성 및 컴포지션 종료 이벤트로 정의된다.

![](https://developer.android.com/static/images/jetpack/compose/lifecycle-composition.png?hl=ko)

그림1. 컴포지션 내 컴포저블의 수명 주기. 컴포저블은 컴포지션을 시작하고 0회 이상 재구성되고 컴포지션을 종료한다.

리컴포지션은 일반적으로 `State<T>` 객체가 변경되면 트리거된다. Compose는 이러한 객체를 추적하고 컴포지션에서 특정 `State<T>`를 읽는 모든 컴포저블 및 호출하는 컴포저블
중 [건너뛸 수 없는](https://developer.android.com/jetpack/compose/lifecycle?hl=ko#skipping) 모든 컴포저블을 실행한다.

> 참고: 컴포저블의 수명 주기는 뷰, 활동 및 프래그먼트의 수명 주기보다 간단하다. 컴포저블이 수명 주가기 더 복잡한 외부 리소스를 관리하거나 이와 상호작용해야 하는 경우 Effect를 사용해야 한다.

컴포저블이 여러 번 호출되면 컴포지션에 여러 인스턴스가 배치된다. 컴퍼지션의 각 호출에는 자체 수명 주기가 존재한다.

```
@Composable
fun MyComposable() {
    Column {
        Text("Hello")
        Text("World")
    }
}
```

![](https://developer.android.com/static/images/jetpack/compose/lifecycle-hierarchy.png?hl=ko)

그림 2. 컴포지션 내 `MyComposable`의 표현. 컴포저블이 여러 번 호출되면 컴포지션에 여러 인스턴스가 배치된다. 색상이 다른 요소는 요소가 별도의 인스턴스임을 나타낸다.

## 컴포지션 내 컴포저블의 분석

컴포지션 내 컴포저블의 인스턴스는 호출 사이트로 식별된다. Compose 컴파일러는 각 호출 사이트를 고유한 것으로 간주한다.
여러 호출 사이트에서 컴포저블을 호출하면 컴포지션에 컴포저블의 여러 인스턴스가 생성된다.

> 핵심 용어: 호출 사이트는 컴포저블이 호출되는 소스 코드 위치다. 호출 사이트는 컴포지션 내 위치와 UI 트리에 영향을 미친다.